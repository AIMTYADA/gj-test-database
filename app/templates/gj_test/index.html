{% extends "base.html" %}
{% block head %}
{{ super() }}
<title>Index</title>
{% endblock %}
{% block page_content %}
<section class="section">
    <div class="columns">
        <div class="column has-text-centered">
            <h1 class="title">รายการทดสอบ</h1>
            <h2 class="subtitle">ทั้งหมด</h2>
        </div>
    </div>
    <div class="container">
        <div class="columns">
            <div class="column">
                <table id="data" class="table is-fullwidth is-striped">
                    <thead>
                        <th>รหัสทดสอบ</th>
                        <th>ชื่อการทดสอบ</th>
                        <th>สิ่งส่งตรวจ</th>
                        <th>ระยะเวลารอผลปกติ</th>
                        <th>รายละเอียด</th>
                    </thead>
                </table>
            </div>
        </div>
    </div>
</section>
{% endblock %}
{% block scripts %}
{{ super() }}
<script>
    $(document).ready(function () {
        $('#data').DataTable({
            searchDelay: 350,
            ajax: '{{ url_for("gj_test.get_tests_view_data") }}',
            serverSide: true,
            columns: [
                {data: 'code'},
                {data: 'test_name'},
                {data: 'specimens'},
                {data: 'waiting_period'},
                {data: 'view_by_general_user'}
            ],
        });
    });
</script>
{% endblock %}


